@model IEnumerable<ShowReel.Models.UserShowView>

@{
    ViewBag.Title = "Tracker";
}

<div class="calendar">
    <div class="calendar-day" id="monday">
        <div class="calendar-header">Monday</div>
        <div class="calendar-content">
            @foreach (var item in Model)
            {
                if (@item.Date == "Monday")
                {
                    <div class="calendar-show">
                        @item.Name <br />
                        <p class="txt--small">
                            S:@item.Seasons  E:@item.Episodes
                        </p>
                    </div>
                    continue;
                }
            }
           
        </div>
    </div>

    <div class="calendar-day" id="tuesday">
        <div class="calendar-header">Tuesday</div>
        <div class="calendar-content">
            @foreach (var item in Model)
            {
                if (@item.Date == "Tuesday")
                {
                    <div class="calendar-show">
                        @item.Name <br />
                        <p class="txt--small">
                            S:@item.Seasons  E:@item.Episodes
                        </p>
                    </div>
                    continue;
                }
             }
        </div>
    </div>

    <div class="calendar-day" id="wednesday">
        <div class="calendar-header">Wednesday</div>
        <div class="calendar-content">
            @foreach (var item in Model)
    {
        if (@item.Date == "Wednesday")
        {
            <div class="calendar-show">
                @item.Name <br />
                <p class="txt--small">
                    S:@item.Seasons  E:@item.Episodes
                </p>
            </div>
    continue;
}
}
        </div>
    </div>

    <div class="calendar-day" id="thursday">
        <div class="calendar-header">Thursday</div>
        <div class="calendar-content">
            @foreach (var item in Model)
    {
        if (@item.Date == "Thursday")
        {
            <div class="calendar-show">
                @item.Name <br />
                <p class="txt--small">
                    S:@item.Seasons  E:@item.Episodes
                </p>
            </div>
    continue;
}
}
        </div>
    </div>

    <div class="calendar-day" id="friday">
        <div class="calendar-header">Friday</div>
        <div class="calendar-content">
            @foreach (var item in Model)
    {
        if (@item.Date == "Friday")
        {
            <div class="calendar-show">
                @item.Name <br />
                <p class="txt--small">
                    S:@item.Seasons  E:@item.Episodes
                </p>
            </div>
    continue;
}
}
        </div>
    </div>

    <div class="calendar-day" id="saturday">
        <div class="calendar-header">Saturday</div>
        <div class="calendar-content">
            @foreach (var item in Model)
    {
        if (@item.Date == "Saturday")
        {
            <div class="calendar-show">
                @item.Name <br />
                <p class="txt--small">
                    S:@item.Seasons  E:@item.Episodes
                </p>
            </div>
    continue;
}
}
        </div>
    </div>

    <div class="calendar-day" id="sunday">
        <div class="calendar-header">Sunday</div>
        <div class="calendar-content">
            @foreach (var item in Model)
    {
        if (@item.Date == "Sunday")
        {
            <div class="calendar-show">
                @item.Name <br />
                <p class="txt--small">
                    S:@item.Seasons  E:@item.Episodes
                </p>
            </div>
    continue;
}
}
        </div>
    </div>

</div>

<h2 class="line-under--gray">You are tracking: </h2>
@foreach (var item in Model)
{
    <div class="row flex line-under--gray normal">
        <div class="col-md-4 image-container">
            <div class="listed-item__img" style="background:url(../Content/Images/@item.Image) no-repeat center; background-size: cover;"></div>
        </div>
        <div class="col-md-8">
            <h2 class="line-under left show-title"> @item.Name</h2>
            <p class="show-description">  @item.Description</p>
            <div class="watched-items">
                <div class="items-box">
                    <h3 class="txt--center items-header">Season</h3>
                    <p class="txt--center items-content"><span class="season-watched">@item.Seasons</span></p>
                </div>
            </div>
            <div class="watched-items">
                <div class="items-box">
                    <h3 class="txt--center items-header">Episode</h3>
                    <p class="txt--center items-content"><span class="episode-watched"><span class="@item.Id">@item.Id</span></span></p>
                </div>
            </div>

            <div class="watched-items">
                <div class="items-box">
                    <h3 class="txt--center items-header">New</h3>
                    <p class="txt--center items-content">
                        <span class="new-episode"> @item.Id </span>
                        <button class="btn btn--red btn-check news" id="@item.Id"><i class="fa fa-check"></i></button>
                    </p>
                </div>
            </div>


            @{
            <script type="text/javascript">
                $("#@item.Id").click(function () {
                    var next = parseInt($('.@item.Id').html(), 10) + 1;
                    $('.@item.Id').html(next);
                    $(this).parent().find('.new-episode').html(next + 1);

                    });

            </script>
            }
        </div>
    </div>
        
}
